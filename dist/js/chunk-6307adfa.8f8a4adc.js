(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6307adfa"],{"0882":function(e,t,r){e.exports=r.p+"img/french_press.c9bb62eb.svg"},1407:function(e,t,r){e.exports=r.p+"img/aeropress_coffee.426efa61.svg"},"1ea0":function(e,t,r){"use strict";r("b581")},"4de4":function(e,t,r){"use strict";var c=r("23e7"),o=r("b727").filter,n=r("1dde"),a=n("filter");c({target:"Array",proto:!0,forced:!a},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},6716:function(e,t,r){"use strict";r.r(t);r("a4d3"),r("e01a");var c=r("7a23"),o=r("1407"),n=r.n(o),a=r("0882"),i=r.n(a),s=r("f373"),d=r.n(s),l=function(e){return Object(c["pushScopeId"])("data-v-de064418"),e=e(),Object(c["popScopeId"])(),e},u={class:"container-lg my-5 text-gray-600"},m={class:"row justify-content-center"},p={class:"col-lg-7 d-flex justify-content-center order-2 order-lg-1"},b={class:"card border-0 rounded-0"},f={class:"card-img"},v=["src","alt","title"],g={class:"card-title mx-auto mt-4 d-block d-lg-none"},j={class:"mx-auto text-center d-block d-lg-none my-3"},O={class:"text-gray-300 text-decoration-line-through"},y={class:"text-cyan-600 fs-5"},h={class:"input-group input-group-sm w-50 mt-2 mx-auto"},x=l((function(){return Object(c["createElementVNode"])("span",{class:"input-group-text text-gray-600 bg-white border-0"},"數量：",-1)})),k=["disabled"],E={key:0,class:"spinner-border spinner-border-sm mx-4"},N=l((function(){return Object(c["createElementVNode"])("div",{class:"visually-hidden"},"Loading...",-1)})),V=[N],w={key:1},P={key:0},S={key:1},B={key:0,class:"fs-12 text-gray-400 mt-1"},F={class:"card-body px-3 px-md-5"},D={class:"d-block d-lg-none d-flex flex-column"},q=l((function(){return Object(c["createElementVNode"])("div",{class:"devider w-50 mx-auto mb-4 border-gray-500"},null,-1)})),C=l((function(){return Object(c["createElementVNode"])("h6",{class:"mb-2 mx-auto"},"風味描述",-1)})),I={class:"mb-0"},_={class:"pt-5"},T={class:"card-text fw-light lh-lg pt-4"},J={class:"mx-auto"},M=l((function(){return Object(c["createElementVNode"])("br",null,null,-1)})),R=Object(c["createStaticVNode"])('<div class="devider w-50 mx-auto my-4 border-gray-500" data-v-de064418></div><div class="d-flex justify-content-around mt-2 d-block d-lg-none" data-v-de064418><img class="mx-auto" src="'+n.a+'" width="50" title="good for aeropress" alt="aeropress" data-v-de064418><img class="mx-auto" src="'+i.a+'" width="50" title="good for french press" alt="french press" data-v-de064418><img class="mx-auto" src="'+d.a+'" width="50" title="good for espresso" alt="espresso" data-v-de064418></div>',2),$={class:"col-lg-4 order-1 order-lg-2 d-none d-lg-block"},U={class:"d-flex flex-column"},L={class:"mx-auto"},A=Object(c["createStaticVNode"])('<div class="devider w-25 mx-auto my-4 border-gray-500" data-v-de064418></div><div class="d-flex justify-content-around mt-2" data-v-de064418><img class="mx-auto" src="'+n.a+'" width="50" title="good for aeropress" alt="aeropress" data-v-de064418><img class="mx-auto" src="'+i.a+'" width="50" title="good for french press" alt="french press" data-v-de064418><img class="mx-auto" src="'+d.a+'" width="50" title="good for espresso" alt="espresso" data-v-de064418></div><div class="devider w-25 mx-auto my-4 border-gray-500" data-v-de064418></div>',3),z={class:"mx-auto d-flex flex-column align-items-center"},G={class:"text-gray-300 text-decoration-line-through"},H={class:"text-cyan-600 fs-5"},K={class:"input-group input-group-sm w-50 mt-2"},Q=l((function(){return Object(c["createElementVNode"])("span",{class:"input-group-text text-gray-600 bg-white border-0"},"數量：",-1)})),W=["disabled"],X={key:0,class:"spinner-border spinner-border-sm mx-4"},Y=l((function(){return Object(c["createElementVNode"])("div",{class:"visually-hidden"},"Loading...",-1)})),Z=[Y],ee={key:1},te={key:0},re={key:1},ce={key:0,class:"fs-12 text-gray-400 mt-1"},oe=l((function(){return Object(c["createElementVNode"])("div",{class:"devider w-25 mx-auto my-4 border-gray-500"},null,-1)})),ne=l((function(){return Object(c["createElementVNode"])("h6",{class:"mb-1 mx-auto"},"風味描述",-1)})),ae={class:"mb-0 w-75 mx-auto"};function ie(e,t,r,o,n,a){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",u,[Object(c["createElementVNode"])("div",m,[Object(c["createElementVNode"])("section",p,[Object(c["createElementVNode"])("main",b,[Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("img",{class:"card-img-top rounded-0",src:n.tempProduct.imageUrl,alt:n.tempProduct.content,title:n.tempProduct.title},null,8,v)]),Object(c["createElementVNode"])("h3",g,Object(c["toDisplayString"])(n.tempProduct.title),1),Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",O,"原價："+Object(c["toDisplayString"])(e.$filters.currency(n.tempProduct.origin_price))+"元 / "+Object(c["toDisplayString"])(n.tempProduct.unit),1),Object(c["createElementVNode"])("div",y,"特價："+Object(c["toDisplayString"])(e.$filters.currency(n.tempProduct.price))+"元 / "+Object(c["toDisplayString"])(n.tempProduct.unit),1),Object(c["createElementVNode"])("div",h,[x,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control rounded",type:"number",min:"1",step:"1",name:"qty","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.qty=e})},null,512),[[c["vModelText"],n.qty]])]),Object(c["createElementVNode"])("button",{class:"btn btn-cyan-600 text-light w-75 my-2",type:"button",onClick:t[1]||(t[1]=Object(c["withModifiers"])((function(e){return a.addCart(n.tempProduct.id)}),["prevent","stop"])),disabled:n.status===n.tempProduct.id},[n.status===n.tempProduct.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",E,V)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",w,"加入購物車"))],8,k),Object(c["createElementVNode"])("button",{class:"btn btn-outline-gray-600 w-75",type:"button",onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(e){return a.updateFavorite(n.tempProduct.id)}),["prevent"]))},[n.isFavorite?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",P,"取消收藏")):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",S,"加入收藏"))]),n.isFavorite?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",B,"（已加入收藏）")):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("div",F,[Object(c["createElementVNode"])("div",D,[q,C,Object(c["createElementVNode"])("p",I,Object(c["toDisplayString"])(n.tempProduct.description),1)]),Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("p",T,[Object(c["createElementVNode"])("strong",J,[Object(c["createTextVNode"])("產地："+Object(c["toDisplayString"])(n.tempProduct.category),1),M]),Object(c["createTextVNode"])(Object(c["toDisplayString"])(n.tempProduct.content),1)]),R])])])]),Object(c["createElementVNode"])("div",$,[Object(c["createElementVNode"])("aside",U,[Object(c["createElementVNode"])("h5",L,Object(c["toDisplayString"])(n.tempProduct.title),1),A,Object(c["createElementVNode"])("div",z,[Object(c["createElementVNode"])("div",G,"原價："+Object(c["toDisplayString"])(e.$filters.currency(n.tempProduct.origin_price))+"元 / "+Object(c["toDisplayString"])(n.tempProduct.unit),1),Object(c["createElementVNode"])("div",H,"特價："+Object(c["toDisplayString"])(e.$filters.currency(n.tempProduct.price))+"元 / "+Object(c["toDisplayString"])(n.tempProduct.unit),1),Object(c["createElementVNode"])("div",K,[Q,Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form-control rounded",type:"number",min:"1",step:"1",name:"qty","onUpdate:modelValue":t[3]||(t[3]=function(e){return n.qty=e})},null,512),[[c["vModelText"],n.qty]])]),Object(c["createElementVNode"])("button",{class:"btn btn-cyan-600 text-light w-75 my-2",type:"button",onClick:t[4]||(t[4]=Object(c["withModifiers"])((function(e){return a.addCart(n.tempProduct.id)}),["prevent","stop"])),disabled:n.status===n.tempProduct.id},[n.status===n.tempProduct.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",X,Z)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",ee,"加入購物車"))],8,W),Object(c["createElementVNode"])("button",{class:"btn btn-outline-gray-600 w-75",type:"button",onClick:t[5]||(t[5]=Object(c["withModifiers"])((function(e){return a.updateFavorite(n.tempProduct.id)}),["prevent"]))},[n.isFavorite?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",te,"取消收藏")):(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",re,"加入收藏"))]),n.isFavorite?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ce,"（已加入收藏）")):Object(c["createCommentVNode"])("",!0)]),oe,ne,Object(c["createElementVNode"])("p",ae,Object(c["toDisplayString"])(n.tempProduct.description),1)])])])])}var se=r("1da1"),de=(r("96cf"),r("99af"),r("d3b7"),r("e9c4"),r("d81d"),r("caad"),r("2532"),r("4de4"),{data:function(){return{tempProduct:{},qty:1,status:"",key:"space-coffee-favorites",favorites:[],isFavorite:!1}},inject:["pushToast","emitter"],methods:{getProduct:function(){var e=this;return Object(se["a"])(regeneratorRuntime.mark((function t(){var r,c,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,c="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/product/").concat(r,"\n      "),t.next=4,fetch(c);case 4:return o=t.sent,t.next=7,o.json();case 7:return n=t.sent,t.next=10,n.product;case 10:e.tempProduct=t.sent,document.title="".concat(e.tempProduct.title);case 12:case"end":return t.stop()}}),t)})))()},addCart:function(e){var t=this;return Object(se["a"])(regeneratorRuntime.mark((function r(){var c,o,n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.status=e,c="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/cart\n      "),o={data:{product_id:e,qty:t.qty}},r.next=5,fetch(c,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 5:return n=r.sent,r.next=8,n.json();case 8:a=r.sent,t.pushToast(a,t.tempProduct.title),t.emitter.emit("add-cart",t.qty),t.qty=1,t.status="";case 13:case"end":return r.stop()}}),r)})))()},getFavorites:function(){var e=localStorage.getItem(this.key);e&&(this.favorites=JSON.parse(e))},isInFavorites:function(){var e=this.favorites.map((function(e){return e.id}));return e.includes(this.tempProduct.id)},updateFavorite:function(e){if(this.isFavorite)this.favorites=this.favorites.filter((function(t){return t.id!==e})),localStorage.setItem(this.key,JSON.stringify(this.favorites));else{var t={id:e};this.favorites.push(t),localStorage.setItem(this.key,JSON.stringify(this.favorites))}this.getFavorites(),this.isFavorite=this.isInFavorites()}},created:function(){var e=this;return Object(se["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getProduct();case 2:e.getFavorites(),e.isFavorite=e.isInFavorites();case 4:case"end":return t.stop()}}),t)})))()}}),le=(r("1ea0"),r("6b0d")),ue=r.n(le);const me=ue()(de,[["render",ie],["__scopeId","data-v-de064418"]]);t["default"]=me},b581:function(e,t,r){},f373:function(e,t,r){e.exports=r.p+"img/portafilter_tamper_icon.40038543.svg"}}]);
//# sourceMappingURL=chunk-6307adfa.8f8a4adc.js.map