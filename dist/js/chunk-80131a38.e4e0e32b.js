(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80131a38"],{"130f":function(e,t,c){"use strict";c("a97c")},"7a7f":function(e,t,c){"use strict";var r=c("7a23"),s={class:"progress-bar flex-nowarp mx-auto mb-4 text-nowrap"},a={class:"d-flex flex-column align-items-center"},n=Object(r["createElementVNode"])("div",{class:"m-auto"},"1",-1),o=[n],l=Object(r["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2 mx-1"},"購物車",-1),i={class:"d-flex mb-4"},d={class:"d-flex flex-column align-items-center"},b=Object(r["createElementVNode"])("div",{class:"m-auto"},"2",-1),m=[b],u=Object(r["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2"},"填寫資料",-1),O={class:"d-flex mb-4"},j={class:"d-flex flex-column align-items-center"},p=Object(r["createElementVNode"])("div",{class:"m-auto"},"3",-1),f=[p],y=Object(r["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2"},"建立訂單",-1),v={class:"d-flex mb-4"},g={class:"d-flex flex-column align-items-center"},E=Object(r["createElementVNode"])("div",{class:"m-auto"},"4",-1),h=[E],N=Object(r["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2"},"付款完成",-1);function V(e,t,c,n,b,p){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",s,[Object(r["createElementVNode"])("div",a,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":b.status.isCart}])},o,2),l]),Object(r["createElementVNode"])("div",i,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["bar m-auto border-secondary",{"border-info":b.status.isOrder}])},null,2)]),Object(r["createElementVNode"])("div",d,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":b.status.isOrder}])},m,2),u]),Object(r["createElementVNode"])("div",O,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["bar m-auto border-secondary",{"border-info":b.status.isCheck}])},null,2)]),Object(r["createElementVNode"])("div",j,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":b.status.isCheck}])},f,2),y]),Object(r["createElementVNode"])("div",v,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["bar m-auto border-secondary",{"border-info":c.isPaid}])},null,2)]),Object(r["createElementVNode"])("div",g,[Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":c.isPaid}])},h,2),N])])}var x={data:function(){return{status:{isCart:!0,isOrder:!1,isCheck:!1},isPay:!1}},props:{step:{type:String,default:function(){return""}},isPaid:{type:Boolean,default:function(){return!1}}},created:function(){switch(this.step){case"Cart":this.status.isCart=!0,this.status.isOrder=!1,this.status.isCheck=!1;break;case"Order":this.status.isCart=!0,this.status.isOrder=!0,this.status.isCheck=!1;break;case"Check":this.status.isCart=!0,this.status.isOrder=!0,this.status.isCheck=!0;break;default:this.status.isCart=!1,this.status.isOrder=!1,this.status.isCheck=!1;break}}},k=(c("130f"),c("6b0d")),w=c.n(k);const C=w()(x,[["render",V]]);t["a"]=C},a5be:function(e,t,c){"use strict";c.r(t);c("b0c0");var r=c("7a23"),s={class:"container-lg my-4"},a={key:0,class:"row justify-content-center"},n={class:"col-md-10 d-flex flex-column align-items-center"},o=Object(r["createElementVNode"])("h4",{class:"text-gray-700"},"已建立訂單",-1),l=Object(r["createElementVNode"])("div",{class:"devider w-25 boder-dark my-3"},null,-1),i={class:"row w-100"},d=Object(r["createElementVNode"])("div",{class:"col-3 d-flex justify-content-center align-items-center fw-bold border p-0"},"訂單日期",-1),b={class:"col-9 border py-2"},m=Object(r["createElementVNode"])("div",{class:"col-3 d-flex justify-content-center align-items-center fw-bold border p-0"},"訂單編號",-1),u={class:"col-9 border py-2"},O=Object(r["createElementVNode"])("div",{class:"col-3 d-flex justify-content-center align-items-center fw-bold border p-0"},"訂單內容",-1),j={class:"col-9 border py-2"},p=Object(r["createElementVNode"])("div",{class:"col-3 d-flex justify-content-center align-items-center fw-bold border p-0"},"訂單金額",-1),f={class:"col-9 border py-2"},y=Object(r["createElementVNode"])("div",{class:"col-3 d-flex justify-content-center align-items-center fw-bold border p-0"},"付款狀態",-1),v={class:"col-9 border py-2"},g={key:0,class:"text-info"},E={key:1},h=Object(r["createElementVNode"])("span",{class:"text-danger me-2"},"未付款",-1),N=["disabled"],V=Object(r["createTextVNode"])("進行付款"),x={key:0,class:"spinner-border spinner-border-sm"},k=Object(r["createElementVNode"])("div",{class:"visually-hidden"},"Loading...",-1),w=[k],C=Object(r["createElementVNode"])("div",{class:"col-3 d-flex justify-content-center align-items-center fw-bold border p-0"},"聯絡資訊",-1),B={class:"col-9 border py-2"},P={class:"mb-1"},S={class:"mb-1"},D={class:"mb-1"},$={class:"mb-1"},z=Object(r["createElementVNode"])("div",{class:"col-3 d-flex justify-content-center align-items-center fw-bold border p-0"},"其他",-1),T={class:"col-9 border py-2"},I=Object(r["createTextVNode"])("察看其他訂單");function R(e,t,c,k,R,_){var J=Object(r["resolveComponent"])("ProgressBar"),L=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",s,[R.order.user?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",a,[Object(r["createElementVNode"])("div",n,[Object(r["createVNode"])(J,{step:e.$route.name,isPaid:R.order.is_paid},null,8,["step","isPaid"]),o,l,Object(r["createElementVNode"])("main",i,[d,Object(r["createElementVNode"])("div",b,Object(r["toDisplayString"])(e.$filters.date(R.order.create_at)),1),m,Object(r["createElementVNode"])("div",u,Object(r["toDisplayString"])(R.order.id),1),O,Object(r["createElementVNode"])("div",j,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(R.order.products,(function(e,t,c){return Object(r["openBlock"])(),Object(r["createElementBlock"])("p",{class:"mb-1",key:t},Object(r["toDisplayString"])(c+1)+"、"+Object(r["toDisplayString"])(e.product.title)+"（"+Object(r["toDisplayString"])(e.product.unit)+"），數量："+Object(r["toDisplayString"])(e.qty),1)})),128))]),p,Object(r["createElementVNode"])("div",f,"NT$ "+Object(r["toDisplayString"])(e.$filters.currency(R.order.total)),1),y,Object(r["createElementVNode"])("div",v,[R.order.is_paid?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",g,"已付款")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",E,[h,Object(r["createElementVNode"])("button",{class:"btn btn-cyan-600 text-light",type:"button",onClick:t[0]||(t[0]=Object(r["withModifiers"])((function(){return _.payOrder&&_.payOrder.apply(_,arguments)}),["prevent"])),disabled:R.isPaying},[V,R.isPaying?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",x,w)):Object(r["createCommentVNode"])("",!0)],8,N)]))]),C,Object(r["createElementVNode"])("div",B,[Object(r["createElementVNode"])("p",P,"姓名："+Object(r["toDisplayString"])(e.$filters.userName(R.order.user.name)),1),Object(r["createElementVNode"])("p",S,"電話："+Object(r["toDisplayString"])(e.$filters.userPhone(R.order.user.tel)),1),Object(r["createElementVNode"])("p",D,"E-Mail："+Object(r["toDisplayString"])(e.$filters.userEmail(R.order.user.email)),1),Object(r["createElementVNode"])("p",$,"收件地址："+Object(r["toDisplayString"])(e.$filters.userAddress(R.order.user.address)),1)]),z,Object(r["createElementVNode"])("div",T,[Object(r["createVNode"])(L,{class:"text-decoration-none",to:{name:"UserOrders"}},{default:Object(r["withCtx"])((function(){return[I]})),_:1})])])])])):Object(r["createCommentVNode"])("",!0)])}var _=c("1da1"),J=(c("96cf"),c("99af"),c("d3b7"),c("7a7f")),L={data:function(){return{orderId:"",order:{},isPaying:!1}},components:{ProgressBar:J["a"]},inject:["pushToast","scrollTop"],methods:{getOrder:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var c,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return c="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/order/").concat(e.orderId,"\n      "),t.next=3,fetch(c);case 3:return r=t.sent,t.next=6,r.json();case 6:s=t.sent,s.success&&(e.order=s.order);case 8:case"end":return t.stop()}}),t)})))()},payOrder:function(){var e=this;return Object(_["a"])(regeneratorRuntime.mark((function t(){var c,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isPaying=!0,c="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/pay/").concat(e.orderId,"\n      "),t.next=4,fetch(c,{method:"post"});case 4:return r=t.sent,t.next=7,r.json();case 7:s=t.sent,e.pushToast(s,"訂單"),e.getOrder(),e.isPaying=!1;case 11:case"end":return t.stop()}}),t)})))()}},created:function(){document.title="訂單確認｜宇宙咖啡",this.scrollTop(),this.orderId=this.$route.params.orderId,this.getOrder()}},M=c("6b0d"),q=c.n(M);const A=q()(L,[["render",R]]);t["default"]=A},a97c:function(e,t,c){}}]);
//# sourceMappingURL=chunk-80131a38.e4e0e32b.js.map