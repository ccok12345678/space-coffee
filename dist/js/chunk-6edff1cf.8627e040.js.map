{"version":3,"sources":["webpack:///./src/views/User_Favorites.vue","webpack:///./src/views/User_Favorites.vue?9894","webpack:///./src/assets/images/ufo-svgrepo-com.svg","webpack:///./src/views/User_Favorites.vue?3e55"],"names":["data","products","favorites","key","components","UserProductCard","methods","getProducts","isLoading","api","fetch","http","json","fetchData","collectFavorites","localStorage","getItem","this","JSON","parse","forEach","product","favor","id","push","deleteFavors","setItem","created","document","title","__exports__","render","module","exports"],"mappings":"qQAAA,MAAK,MAAM,2D,uBAAmF,gCAAuE,OAAlE,MAAM,iBAAiB,S,mCAA2C,gCAAqD,MAAjD,MAAM,2BAA0B,gBAAY,M,GAAvH,EAAuE,G,GAArK,MAAqO,MAAM,2D,GAAyF,MAAM,U,uBAAS,gCAAwC,MAApC,MAAM,sBAAqB,QAAI,M,uBAAoH,gCAAgC,KAA7B,MAAM,oBAAkB,Y,GAA3B,G,uBAA+C,gCAAqD,OAAhD,MAAM,qCAAmC,Y,GAAY,MAAM,2C,GAA+C,MAAM,a,GAAiB,MAAM,0C,+GAArqB,oDAA4E,YAAU,OAAtF,wC,yBAAA,gCAAgO,MAAhO,MAA6S,YAAU,Q,yBAAvF,gCAAwoB,MAAxoB,EAAwoB,CAAziB,gCAA0N,MAA1N,EAA0N,CAAtM,EAAwC,gCAAwJ,UAAhJ,MAAM,sCAAsC,KAAK,SAAS,MAAM,SAAU,QAAK,YAAld,8CAA4d,oDAAY,eAAxe,KAAyhB,EAAqD,gCAAoR,MAApR,EAAoR,CAA/N,gCAAyN,MAAzN,EAAyN,CAAlM,gCAA4L,MAA5L,EAA4L,E,2BAAxI,gCAAkI,mBAAh1B,wBAA4vB,aAA5vB,SAAovB,G,gCAAtC,gCAAkI,OAA7H,MAAM,oBAA+C,IAAK,EAAK,I,CAAI,yBAAoD,GAAlC,SAAU,GAAI,0B,eAAtzB,wC,0EAoDe,GACbA,KADa,WAEX,MAAO,CACLC,SAAU,GACVC,UAAW,GACXC,IAAK,2BAGTC,WAAY,CACVC,gBAAA,QAEFC,QAAS,CACDC,YADC,WACa,yKAClB,EAAKC,WAAY,EACXC,EAFY,oBAGd,uCAHc,gBAGiB,WAHjB,kCAKCC,MAAMD,GALP,cAKZE,EALY,gBAMMA,EAAKC,OANX,cAMZC,EANY,OAQlB,EAAKL,WAAY,EARC,kBASXK,EAAUZ,UATC,+CAYpBa,iBAbO,WAaY,WACbZ,EAAYa,aAAaC,QAAQC,KAAKd,KAEtCD,IACFA,EAAYgB,KAAKC,MAAMjB,GAEvBe,KAAKhB,SAASmB,SAAQ,SAACC,GACrBnB,EAAUkB,SAAQ,SAACE,GACbD,EAAQE,KAAOD,EAAMC,IACvB,EAAKrB,UAAUsB,KAAKH,WAO9BI,aA7BO,WA8BLV,aAAaW,QAAQT,KAAKd,IAAK,IAC/Bc,KAAKf,UAAY,KAGfyB,QA7CO,WA6CG,+JACdC,SAASC,MAAQ,cADH,SAEQ,EAAKtB,cAFb,OAEd,EAAKN,SAFS,OAGd,EAAKa,mBAHS,+C,iCC1FlB,MAAMgB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,8CCTfC,EAAOC,QAAU,IAA0B,oC,kCCA3C","file":"js/chunk-6edff1cf.8627e040.js","sourcesContent":["<template lang=\"pug\">\n//- show if empty\n.container-lg.d-flex.flex-column.align-items-center.my-5(v-if=\"!favorites.length\")\n  img.favor-img.w-25(src=\"../assets/images/ufo-svgrepo-com.svg\")\n  h3.fs-4.text-gray-600.mt-3 還沒有收藏，先去逛逛吧！\n\n.container-lg.d-flex.flex-column.align-items-center.my-5(v-if=\"!!favorites.length\")\n\n  .d-flex\n    h3.fs-4.text-gray-600 收藏清單\n\n    //- delete button\n    button.btn.btn-sm.hover-red.px-2.mb-2.ms-2(\n    type=\"button\" title=\"清空收藏清單\"\n    @click.prevent=\"deleteFavors\")\n      i.bi.bi-trash-fill\n\n  .devider.w-50.border-gray-500.mb-5\n\n  .row.d-flex.justify-content-center.w-100\n\n    .col-md-11\n      .row.gy-4.d-flex.justify-content-center\n\n        .col-md-4.col-sm-6(v-for=\"item of favorites\" :key=\"item.id\")\n          UserProductCard(:tempPick=\"item\")\n\n</template>\n\n<style lang=\"scss\" scoped>\n.favor-img {\n  animation: swing 5s ease-in infinite;\n}\n@keyframes swing {\n  0% {\n    transform: translateX(0);\n  }\n  40% {\n    transform: translateX(100px) rotate(30deg);\n  }\n  80% {\n    transform: translateX(-100px) rotate(-20deg);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n</style>\n\n<script>\nimport UserProductCard from '@/components/User_ProductCard.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      favorites: [],\n      key: 'space-coffee-favorites',\n    };\n  },\n  components: {\n    UserProductCard,\n  },\n  methods: {\n    async getProducts() {\n      this.isLoading = true;\n      const api = `\n        ${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all\n      `;\n      const http = await fetch(api);\n      const fetchData = await http.json();\n\n      this.isLoading = false;\n      return fetchData.products;\n    },\n\n    collectFavorites() {\n      let favorites = localStorage.getItem(this.key);\n\n      if (favorites) {\n        favorites = JSON.parse(favorites);\n\n        this.products.forEach((product) => {\n          favorites.forEach((favor) => {\n            if (product.id === favor.id) {\n              this.favorites.push(product);\n            }\n          });\n        });\n      }\n    },\n\n    deleteFavors() {\n      localStorage.setItem(this.key, '');\n      this.favorites = [];\n    },\n  },\n  async created() {\n    document.title = '收藏清單 | 宇宙咖啡';\n    this.products = await this.getProducts();\n    this.collectFavorites();\n  },\n};\n</script>\n","import { render } from \"./User_Favorites.vue?vue&type=template&id=68a2ab6f&scoped=true&lang=pug\"\nimport script from \"./User_Favorites.vue?vue&type=script&lang=js\"\nexport * from \"./User_Favorites.vue?vue&type=script&lang=js\"\n\nimport \"./User_Favorites.vue?vue&type=style&index=0&id=68a2ab6f&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\ccok1\\\\Documents\\\\2021扣訂\\\\hexschool\\\\Vue\\\\space-coffee\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-68a2ab6f\"]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/ufo-svgrepo-com.8274df04.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./User_Favorites.vue?vue&type=style&index=0&id=68a2ab6f&lang=scss&scoped=true\""],"sourceRoot":""}