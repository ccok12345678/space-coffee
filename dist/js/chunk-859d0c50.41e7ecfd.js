(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-859d0c50"],{"130f":function(e,t,r){"use strict";r("a97c")},1772:function(e,t,r){},"1f7c":function(e,t,r){"use strict";r("1772")},"4de4":function(e,t,r){"use strict";var c=r("23e7"),a=r("b727").filter,n=r("1dde"),s=n("filter");c({target:"Array",proto:!0,forced:!s},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"774d":function(e,t,r){"use strict";r.r(t);r("b0c0");var c=r("7a23"),a=function(e){return Object(c["pushScopeId"])("data-v-0d96e382"),e=e(),Object(c["popScopeId"])(),e},n={class:"container-lg my-4"},s={class:"row justify-content-center"},o={class:"row justify-content-center"},l=a((function(){return Object(c["createElementVNode"])("div",{class:"col-12 text-center"},[Object(c["createElementVNode"])("h5",{class:"mb-3"},"訂購人資料")],-1)})),i={class:"col-4 d-flex flex-column"},d=a((function(){return Object(c["createElementVNode"])("label",{class:"my-auto ms-auto",for:"name"},"*姓名：",-1)})),u={class:"col-8"},m={class:"col-4 d-flex flex-column"},b=a((function(){return Object(c["createElementVNode"])("label",{class:"my-auto ms-auto",for:"tel"},"*聯絡電話：",-1)})),f={class:"col-8"},O={class:"col-4 d-flex flex-column"},j=a((function(){return Object(c["createElementVNode"])("label",{class:"my-auto ms-auto",for:"email"},"*E-Mail：",-1)})),p={class:"col-8"},v={class:"col-4 d-flex flex-column"},h=a((function(){return Object(c["createElementVNode"])("label",{class:"my-auto ms-auto",for:"address"},"*收件地址：",-1)})),V={class:"col-8"},g=a((function(){return Object(c["createElementVNode"])("div",{class:"col-4"},null,-1)})),x={class:"col-8 m-auto"},N={class:"form-floating my-2 w-85"},E=a((function(){return Object(c["createElementVNode"])("label",{for:"userMessage"},"附加說明（非必填）：",-1)})),y=a((function(){return Object(c["createElementVNode"])("div",{class:"devider w-75 my-3 border-secondary"},null,-1)})),w=a((function(){return Object(c["createElementVNode"])("div",{class:"col-7 text-end"},"訂單金額：",-1)})),C={class:"col-5 text-center fw-bold"},k=a((function(){return Object(c["createElementVNode"])("div",{class:"devider w-75 my-3"},null,-1)})),P=a((function(){return Object(c["createElementVNode"])("div",{class:"col-10"},[Object(c["createElementVNode"])("div",{class:"text-center text-md-end"},[Object(c["createElementVNode"])("button",{class:"btn btn-cyan-600 text-light",type:"submit"},[Object(c["createTextVNode"])("建立訂單"),Object(c["createElementVNode"])("i",{class:"bi bi-box-arrow-right ms-2"})])])],-1)}));function z(e,t,r,a,z,M){var S=Object(c["resolveComponent"])("ProgressBar"),D=Object(c["resolveComponent"])("ErrorMessage"),T=Object(c["resolveComponent"])("Field"),B=Object(c["resolveComponent"])("Form");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",n,[Object(c["createElementVNode"])("div",s,[Object(c["createVNode"])(B,{class:"col-md-10 d-flex flex-column",onSubmit:M.submitOrder},{default:Object(c["withCtx"])((function(r){var a=r.errors;return[Object(c["createVNode"])(S,{step:e.$route.name},null,8,["step"]),Object(c["createElementVNode"])("div",o,[l,Object(c["createElementVNode"])("div",i,[d,Object(c["createVNode"])(D,{class:"fs-12 ms-auto text-danger",name:"姓名"})]),Object(c["createElementVNode"])("div",u,[Object(c["createVNode"])(T,{class:Object(c["normalizeClass"])(["form-control my-2 w-85 shadow-none",{"is-invalid":a["姓名"],"is-valid:":!a["姓名"]}]),id:"name",type:"text",name:"姓名",placeholder:"Name",modelValue:z.user.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return z.user.name=e}),modelModifiers:{trim:!0},rules:"required"},null,8,["modelValue","class"])]),Object(c["createElementVNode"])("div",m,[b,Object(c["createVNode"])(D,{class:"text-danger ms-auto fs-12",name:"tel"})]),Object(c["createElementVNode"])("div",f,[Object(c["createVNode"])(T,{class:Object(c["normalizeClass"])(["form-control my-2 w-85 shadow-none",{"is-invalid":a["tel"]}]),id:"tel",type:"tel",name:"tel",placeholder:"Phone number",modelValue:z.user.tel,"onUpdate:modelValue":t[1]||(t[1]=function(e){return z.user.tel=e}),modelModifiers:{trim:!0},rules:M.isPhone},null,8,["modelValue","rules","class"])]),Object(c["createElementVNode"])("div",O,[j,Object(c["createVNode"])(D,{class:"fs-12 ms-auto text-danger",name:"email"})]),Object(c["createElementVNode"])("div",p,[Object(c["createVNode"])(T,{class:Object(c["normalizeClass"])(["form-control my-2 w-85 shadow-none",{"is-invalid":a["email"]}]),id:"email",type:"email",name:"email",placeholder:"example@mail.com",modelValue:z.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return z.user.email=e}),modelModifiers:{trim:!0},rules:"email|required"},null,8,["modelValue","class"])]),Object(c["createElementVNode"])("div",v,[h,Object(c["createVNode"])(D,{class:"fs-12 ms-auto text-danger",name:"地址"})]),Object(c["createElementVNode"])("div",V,[Object(c["createVNode"])(T,{class:Object(c["normalizeClass"])(["form-control my-2 w-85 shadow-none",{"is-invalid":a["地址"]}]),id:"address",type:"text",name:"地址",placeholder:"Address",modelValue:z.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return z.user.address=e}),modelModifiers:{trim:!0},rules:"required"},null,8,["modelValue","class"])]),g,Object(c["createElementVNode"])("div",x,[Object(c["createElementVNode"])("div",N,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control textarea",id:"userMessage",name:"userMessage","onUpdate:modelValue":t[4]||(t[4]=function(e){return z.message=e})},null,512),[[c["vModelText"],z.message]]),E])]),y,w,Object(c["createElementVNode"])("div",C,"NT$ "+Object(c["toDisplayString"])(e.$filters.currency(z.carts.final_total)),1),k,P])]})),_:1},8,["onSubmit"])])])}var M=r("5530"),S=r("1da1"),D=(r("96cf"),r("99af"),r("d3b7"),r("e9c4"),r("ac1f"),r("00b4"),r("7a7f")),T={data:function(){return{carts:{},user:{name:"",email:"",tel:"",address:""},message:""}},components:{ProgressBar:D["a"]},inject:["pushToast","scrollTop"],methods:{getCart:function(){return Object(S["a"])(regeneratorRuntime.mark((function e(){var t,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/cart\n      "),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c.data);case 8:case"end":return e.stop()}}),e)})))()},submitOrder:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){var r,c,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/order\n      "),c={data:{user:Object(M["a"])({},e.user),message:e.message}},t.next=4,fetch(r,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 4:return a=t.sent,t.next=7,a.json();case 7:n=t.sent,e.pushToast(n,"訂單"),e.$router.push({name:"Check",params:{orderId:n.orderId}});case 10:case"end":return t.stop()}}),t)})))()},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return e?!!t.test(e)||"號碼不正確":"電話為必填"}},created:function(){var e=this;return Object(S["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.title="訂購人資料｜宇宙咖啡",e.scrollTop(),t.next=4,e.getCart();case 4:e.carts=t.sent;case 5:case"end":return t.stop()}}),t)})))()}},B=(r("1f7c"),r("6b0d")),R=r.n(B);const I=R()(T,[["render",z],["__scopeId","data-v-0d96e382"]]);t["default"]=I},"7a7f":function(e,t,r){"use strict";var c=r("7a23"),a={class:"progress-bar flex-nowarp mx-auto mb-4 text-nowrap"},n={class:"d-flex flex-column align-items-center"},s=Object(c["createElementVNode"])("div",{class:"m-auto"},"1",-1),o=[s],l=Object(c["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2 mx-1"},"購物車",-1),i={class:"d-flex mb-4"},d={class:"d-flex flex-column align-items-center"},u=Object(c["createElementVNode"])("div",{class:"m-auto"},"2",-1),m=[u],b=Object(c["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2"},"填寫資料",-1),f={class:"d-flex mb-4"},O={class:"d-flex flex-column align-items-center"},j=Object(c["createElementVNode"])("div",{class:"m-auto"},"3",-1),p=[j],v=Object(c["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2"},"建立訂單",-1),h={class:"d-flex mb-4"},V={class:"d-flex flex-column align-items-center"},g=Object(c["createElementVNode"])("div",{class:"m-auto"},"4",-1),x=[g],N=Object(c["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2"},"付款完成",-1);function E(e,t,r,s,u,j){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",a,[Object(c["createElementVNode"])("div",n,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":u.status.isCart}])},o,2),l]),Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["bar m-auto border-secondary",{"border-info":u.status.isOrder}])},null,2)]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":u.status.isOrder}])},m,2),b]),Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["bar m-auto border-secondary",{"border-info":u.status.isCheck}])},null,2)]),Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":u.status.isCheck}])},p,2),v]),Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["bar m-auto border-secondary",{"border-info":r.isPaid}])},null,2)]),Object(c["createElementVNode"])("div",V,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":r.isPaid}])},x,2),N])])}var y={data:function(){return{status:{isCart:!0,isOrder:!1,isCheck:!1},isPay:!1}},props:{step:{type:String,default:function(){return""}},isPaid:{type:Boolean,default:function(){return!1}}},created:function(){switch(this.step){case"Cart":this.status.isCart=!0,this.status.isOrder=!1,this.status.isCheck=!1;break;case"Order":this.status.isCart=!0,this.status.isOrder=!0,this.status.isCheck=!1;break;case"Check":this.status.isCart=!0,this.status.isOrder=!0,this.status.isCheck=!0;break;default:this.status.isCart=!1,this.status.isOrder=!1,this.status.isCheck=!1;break}}},w=(r("130f"),r("6b0d")),C=r.n(w);const k=C()(y,[["render",E]]);t["a"]=k},a97c:function(e,t,r){},b64b:function(e,t,r){var c=r("23e7"),a=r("7b0b"),n=r("df75"),s=r("d039"),o=s((function(){n(1)}));c({target:"Object",stat:!0,forced:o},{keys:function(e){return n(a(e))}})},dbb4:function(e,t,r){var c=r("23e7"),a=r("83ab"),n=r("56ef"),s=r("fc6a"),o=r("06cf"),l=r("8418");c({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,r,c=s(e),a=o.f,i=n(c),d={},u=0;while(i.length>u)r=a(c,t=i[u++]),void 0!==r&&l(d,t,r);return d}})},e439:function(e,t,r){var c=r("23e7"),a=r("d039"),n=r("fc6a"),s=r("06cf").f,o=r("83ab"),l=a((function(){s(1)})),i=!o||l;c({target:"Object",stat:!0,forced:i,sham:!o},{getOwnPropertyDescriptor:function(e,t){return s(n(e),t)}})}}]);
//# sourceMappingURL=chunk-859d0c50.41e7ecfd.js.map