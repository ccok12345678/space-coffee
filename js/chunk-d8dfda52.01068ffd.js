(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8dfda52"],{"00d6":function(e,t,a){"use strict";a("24e6")},1967:function(e,t,a){"use strict";a("a2f2")},"24e6":function(e,t,a){},5271:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),s=function(e){return Object(c["pushScopeId"])("data-v-20b5c3b9"),e=e(),Object(c["popScopeId"])(),e},r={class:"container-lg my-4"},l={class:"row justify-content-center"},n={class:"row justify-content-center"},o=s((function(){return Object(c["createElementVNode"])("div",{class:"col-12 text-center"},[Object(c["createElementVNode"])("h5",{class:"mb-3"},"訂購人資料")],-1)})),d=s((function(){return Object(c["createElementVNode"])("div",{class:"col-4 col-md-3 d-flex flex-column mt-2"},[Object(c["createElementVNode"])("label",{class:"ms-auto my-auto",for:"name"},"*姓名：")],-1)})),i={class:"col-8 mt-2"},m={class:"col-8 offset-4 offset-md-3"},u=s((function(){return Object(c["createElementVNode"])("label",{class:"ms-auto my-auto",for:"tel"},"*聯絡電話：",-1)})),b=[u],f={class:"col-8 offset-4 offset-md-3"},O=s((function(){return Object(c["createElementVNode"])("label",{class:"my-auto ms-auto",for:"email"},"*E-Mail：",-1)})),j=[O],v={class:"col-8 offset-4 offset-md-3"},p=s((function(){return Object(c["createElementVNode"])("label",{class:"my-auto ms-auto",for:"address"},"*收件地址：",-1)})),V=[p],h={class:"col-8 offset-4 offset-md-3"},x={class:"form-floating mb-2 w-85"},N=s((function(){return Object(c["createElementVNode"])("label",{for:"userMessage"},"附加說明（非必填）：",-1)})),E=s((function(){return Object(c["createElementVNode"])("div",{class:"divider w-75 my-3 border-secondary"},null,-1)})),g=s((function(){return Object(c["createElementVNode"])("div",{class:"col-7 text-end"},"訂單金額：",-1)})),C={class:"col-5 text-center fw-bold"},w=s((function(){return Object(c["createElementVNode"])("div",{class:"divider w-75 my-3"},null,-1)})),y=s((function(){return Object(c["createElementVNode"])("div",{class:"col-10"},[Object(c["createElementVNode"])("div",{class:"text-center text-md-end"},[Object(c["createElementVNode"])("button",{class:"btn btn-cyan-600 text-light",type:"submit"},[Object(c["createTextVNode"])("建立訂單"),Object(c["createElementVNode"])("i",{class:"bi bi-box-arrow-right ms-2"})])])],-1)}));function k(e,t,a,s,u,O){var p=Object(c["resolveComponent"])("ProgressBar"),k=Object(c["resolveComponent"])("Field"),z=Object(c["resolveComponent"])("ErrorMessage"),M=Object(c["resolveComponent"])("Form");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[Object(c["createElementVNode"])("div",l,[Object(c["createVNode"])(M,{class:"col-md-10 d-flex flex-column",onSubmit:O.submitOrder},{default:Object(c["withCtx"])((function(a){var s=a.errors;return[Object(c["createVNode"])(p,{step:e.$route.name},null,8,["step"]),Object(c["createElementVNode"])("div",n,[o,d,Object(c["createElementVNode"])("div",i,[Object(c["createVNode"])(k,{class:Object(c["normalizeClass"])(["form-control w-85 shadow-none",{"is-invalid":s["姓名"]}]),id:"name",type:"text",name:"姓名",placeholder:"Name",modelValue:u.user.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return u.user.name=e}),modelModifiers:{trim:!0},rules:"required"},null,8,["modelValue","class"])]),Object(c["createElementVNode"])("div",m,[Object(c["createVNode"])(z,{class:"fs-12 ms-auto text-danger",name:"姓名"})]),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col-4 col-md-3 d-flex flex-column",{"mt-4":!s["姓名"],"mt-2":s["姓名"]}])},b,2),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col-8",{"mt-4":!s["姓名"],"mt-2":s["姓名"]}])},[Object(c["createVNode"])(k,{class:Object(c["normalizeClass"])(["form-control w-85 shadow-none",{"is-invalid":s["tel"]}]),id:"tel",type:"tel",name:"tel",placeholder:"Phone number",modelValue:u.user.tel,"onUpdate:modelValue":t[1]||(t[1]=function(e){return u.user.tel=e}),modelModifiers:{trim:!0},rules:O.isPhone},null,8,["modelValue","rules","class"])],2),Object(c["createElementVNode"])("div",f,[Object(c["createVNode"])(z,{class:"text-danger ms-auto fs-12",name:"tel"})]),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col-4 col-md-3 d-flex flex-column",{"mt-4":!s["tel"],"mt-2":s["tel"]}])},j,2),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col-8",{"mt-4":!s["tel"],"mt-2":s["tel"]}])},[Object(c["createVNode"])(k,{class:Object(c["normalizeClass"])(["form-control w-85 shadow-none",{"is-invalid":s["email"]}]),id:"email",type:"email",name:"email",placeholder:"example@mail.com",modelValue:u.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return u.user.email=e}),modelModifiers:{trim:!0},rules:"email|required"},null,8,["modelValue","class"])],2),Object(c["createElementVNode"])("div",v,[Object(c["createVNode"])(z,{class:"fs-12 ms-auto text-danger",name:"email"})]),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col-4 col-md-3 d-flex flex-column",{"mt-4":!s["email"],"mt-2":s["email"]}])},V,2),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col-8",{"mt-4":!s["email"],"mt-2":s["email"]}])},[Object(c["createVNode"])(k,{class:Object(c["normalizeClass"])(["form-control w-85 shadow-none",{"is-invalid":s["地址"]}]),id:"address",type:"text",name:"地址",placeholder:"Address",modelValue:u.user.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return u.user.address=e}),modelModifiers:{trim:!0},rules:"required"},null,8,["modelValue","class"])],2),Object(c["createElementVNode"])("div",h,[Object(c["createVNode"])(z,{class:"fs-12 ms-auto text-danger",name:"地址"})]),Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["col-8 offset-4 offset-md-3",{"mt-4":!s["地址"],"mt-2":s["地址"]}])},[Object(c["createElementVNode"])("div",x,[Object(c["withDirectives"])(Object(c["createElementVNode"])("textarea",{class:"form-control textarea",id:"userMessage",name:"userMessage","onUpdate:modelValue":t[4]||(t[4]=function(e){return u.message=e})},null,512),[[c["vModelText"],u.message]]),N])],2),E,g,Object(c["createElementVNode"])("div",C,"NT$ "+Object(c["toDisplayString"])(e.$filters.currency(u.carts.final_total)),1),w,y])]})),_:1},8,["onSubmit"])])])}var z=a("5530"),M=a("1da1"),P=(a("96cf"),a("99af"),a("d3b7"),a("e9c4"),a("ac1f"),a("00b4"),a("b90a")),T={metaInfo:{title:"訂購人資料"},data:function(){return{carts:{},user:{name:"",email:"",tel:"",address:""},message:""}},components:{ProgressBar:P["a"]},inject:["pushToast","scrollTop"],methods:{getCart:function(){return Object(M["a"])(regeneratorRuntime.mark((function e(){var t,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/cart\n      "),e.prev=1,e.next=4,fetch(t);case 4:return c=e.sent,e.next=7,c.json();case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.error(e.t0);case 13:return e.abrupt("return",a.data);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},submitOrder:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){var a,c,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/order\n      "),c={data:{user:Object(z["a"])({},e.user),message:e.message}},t.prev=2,t.next=5,fetch(a,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 5:return s=t.sent,t.next=8,s.json();case 8:r=t.sent,e.pushToast(r,"訂單"),e.$router.push({name:"Check",params:{orderId:r.orderId}}),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})))()},isPhone:function(e){var t=/^(09)[0-9]{8}$/;return e?!!t.test(e)||"號碼不正確":"電話為必填"}},created:function(){var e=this;return Object(M["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.scrollTop(),t.prev=1,t.next=4,e.getCart();case 4:e.carts=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()}},B=(a("00d6"),a("6b0d")),S=a.n(B);const I=S()(T,[["render",k],["__scopeId","data-v-20b5c3b9"]]);t["default"]=I},a2f2:function(e,t,a){},b90a:function(e,t,a){"use strict";var c=a("7a23"),s={class:"progress-bar flex-nowarp mx-auto mb-4 text-nowrap"},r={class:"d-flex flex-column align-items-center"},l=Object(c["createElementVNode"])("div",{class:"m-auto"},"1",-1),n=[l],o=Object(c["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2 mx-1"},"購物車",-1),d={class:"d-flex mb-4"},i={class:"d-flex flex-column align-items-center"},m=Object(c["createElementVNode"])("div",{class:"m-auto"},"2",-1),u=[m],b=Object(c["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2"},"填寫資料",-1),f={class:"d-flex mb-4"},O={class:"d-flex flex-column align-items-center"},j=Object(c["createElementVNode"])("div",{class:"m-auto"},"3",-1),v=[j],p=Object(c["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2"},"建立訂單",-1),V={class:"d-flex mb-4"},h={class:"d-flex flex-column align-items-center"},x=Object(c["createElementVNode"])("div",{class:"m-auto"},"4",-1),N=[x],E=Object(c["createElementVNode"])("div",{class:"text-gray-700 fs-12 mt-2"},"付款完成",-1);function g(e,t,a,l,m,j){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":m.status.isCart}])},n,2),o]),Object(c["createElementVNode"])("div",d,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["bar m-auto border-secondary",{"border-info":m.status.isOrder}])},null,2)]),Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":m.status.isOrder}])},u,2),b]),Object(c["createElementVNode"])("div",f,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["bar m-auto border-secondary",{"border-info":m.status.isCheck}])},null,2)]),Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":m.status.isCheck}])},v,2),p]),Object(c["createElementVNode"])("div",V,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["bar m-auto border-secondary",{"border-info":a.isPaid}])},null,2)]),Object(c["createElementVNode"])("div",h,[Object(c["createElementVNode"])("div",{class:Object(c["normalizeClass"])(["rounded-circle text-light circle bg-secondary d-flex",{"bg-info":a.isPaid}])},N,2),E])])}var C={data:function(){return{status:{isCart:!0,isOrder:!1,isCheck:!1},isPay:!1}},props:{step:{type:String,default:function(){return""}},isPaid:{type:Boolean,default:function(){return!1}}},created:function(){switch(this.step){case"Cart":this.status.isCart=!0,this.status.isOrder=!1,this.status.isCheck=!1;break;case"Order":this.status.isCart=!0,this.status.isOrder=!0,this.status.isCheck=!1;break;case"Check":this.status.isCart=!0,this.status.isOrder=!0,this.status.isCheck=!0;break;default:this.status.isCart=!1,this.status.isOrder=!1,this.status.isCheck=!1;break}}},w=(a("1967"),a("6b0d")),y=a.n(w);const k=y()(C,[["render",g]]);t["a"]=k}}]);
//# sourceMappingURL=chunk-d8dfda52.01068ffd.js.map