(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f02119c"],{"0196":function(e,t,c){},"079c":function(e,t,c){"use strict";c("4de8")},1799:function(e,t,c){"use strict";var n=c("7a23"),o={key:0,class:"mt-3"},r={class:"pagination justify-content-center"},a={key:0,class:"page-item"},l=Object(n["createElementVNode"])("span",null,"⫷",-1),i=[l],d=["onClick"],s={key:1,class:"page-item"},u=Object(n["createElementVNode"])("span",null,"⫸",-1),m=[u];function b(e,t,c,l,u,b){return c.pages.total_pages>1?(Object(n["openBlock"])(),Object(n["createElementBlock"])("nav",o,[Object(n["createElementVNode"])("ul",r,[c.pages.has_pre?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",a,[Object(n["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(e){return b.changePage(c.pages.current_page-1)}),["prevent"]))},i)])):Object(n["createCommentVNode"])("",!0),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.pages.total_pages,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("li",{class:Object(n["normalizeClass"])(["page-item",{active:e===c.pages.current_page}]),key:e},[Object(n["createElementVNode"])("a",{class:"page-link",href:"#",onClick:Object(n["withModifiers"])((function(t){return b.changePage(e)}),["prevent"])},Object(n["toDisplayString"])(e),9,d)],2)})),128)),c.pages.has_next?(Object(n["openBlock"])(),Object(n["createElementBlock"])("li",s,[Object(n["createElementVNode"])("a",{class:"page-link",href:"#",onClick:t[1]||(t[1]=Object(n["withModifiers"])((function(e){return b.changePage(c.pages.current_page+1)}),["prevent"]))},m)])):Object(n["createCommentVNode"])("",!0)])])):Object(n["createCommentVNode"])("",!0)}var p=c("7d47"),j={props:["pages"],methods:{changePage:function(e){this.$emit("emit-page",e),Object(p["a"])()}}},O=c("6b0d"),f=c.n(O);const h=f()(j,[["render",b]]);t["a"]=h},"4b91":function(e,t,c){"use strict";var n=c("7a23"),o=c("eaaf"),r=c.n(o),a={class:"modal fade",tabindex:"-1",ref:"modal"},l={class:"modal-dialog modal-dialog-centered"},i={class:"modal-content"},d={class:"modal-body text-center"},s=Object(n["createElementVNode"])("img",{class:"spinner-slow mb-3",src:r.a,width:"165",alt:"Loading..."},null,-1),u=Object(n["createElementVNode"])("p",{class:"fs-5 text-danger"},[Object(n["createTextVNode"])("警告 "),Object(n["createElementVNode"])("i",{class:"bi bi-exclamation-diamond"}),Object(n["createTextVNode"])("：刪除後無法復原，確認刪除")],-1),m={class:"mb-0 fs-5 fw-bold text-dark"},b={key:0},p={key:1},j={class:"p-3 text-center"},O=Object(n["createElementVNode"])("i",{class:"bi bi-trash me-2"},null,-1),f=Object(n["createTextVNode"])("確認刪除"),h=[O,f],g=Object(n["createElementVNode"])("button",{class:"btn btn-outline-gray-600 w-70",type:"button","data-bs-dismiss":"modal"},"取消",-1);function V(e,t,c,o,r,O){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",d,[s,u,Object(n["createElementVNode"])("p",m,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(c.itemClass)+"：",1),r.tempItem.title?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",b,Object(n["toDisplayString"])(r.tempItem.title)+"？",1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",p,Object(n["toDisplayString"])(r.tempItem.id)+"？",1))])]),Object(n["createElementVNode"])("div",j,[Object(n["createElementVNode"])("button",{class:"btn btn-danger w-70 mb-2",type:"button",onClick:t[0]||(t[0]=function(){return O.check&&O.check.apply(O,arguments)})},h),g])])])],512)}var v=c("5530"),E=c("e0ae"),N={data:function(){return{tempItem:{}}},mixins:[E["a"]],props:{item:{type:Object,default:function(){return{}}},itemClass:{type:String,default:function(){return"物件"}}},watch:{item:function(){this.tempItem=Object(v["a"])({},this.item)}},methods:{check:function(){this.$emit("emit-delete",this.tempItem)}}},k=c("6b0d"),w=c.n(k);const x=w()(N,[["render",V]]);t["a"]=x},"4de8":function(e,t,c){},"61bc":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),o=function(e){return Object(n["pushScopeId"])("data-v-acf48f58"),e=e(),Object(n["popScopeId"])(),e},r=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-clipboard-plus"},null,-1)})),a=[r],l={key:0,class:"w-100 overflow-auto text-nowrap"},i={class:"table table-sm table-light table-striped table-hover align-middle text-center"},d=o((function(){return Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",null,"縮圖"),Object(n["createElementVNode"])("th",null,[Object(n["createTextVNode"])("商品名稱"),Object(n["createElementVNode"])("i",{class:"bi bi-pencil-square ms-2"})]),Object(n["createElementVNode"])("th",{class:"d-none d-sm-table-cell"},"分類"),Object(n["createElementVNode"])("th",null,"售價"),Object(n["createElementVNode"])("th",{class:"d-none d-sm-table-cell"},"原價"),Object(n["createElementVNode"])("th",{class:"d-none d-sm-table-cell",width:"50"},"上架"),Object(n["createElementVNode"])("th")])],-1)})),s={class:"img overflow-hidden"},u=["src","alt"],m=["onClick"],b={class:"d-none d-sm-table-cell"},p={class:"d-none d-sm-table-cell"},j={class:"d-none d-sm-table-cell"},O={class:"form-switch text-center"},f=["onUpdate:modelValue","onChange"],h=["onClick"],g=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-pencil-square"},null,-1)})),V=[g],v=["onClick"],E=o((function(){return Object(n["createElementVNode"])("i",{class:"bi bi-trash"},null,-1)})),N=[E];function k(e,t,c,o,r,g){var E=Object(n["resolveComponent"])("Pagination"),k=Object(n["resolveComponent"])("ProductModal"),w=Object(n["resolveComponent"])("DeleteModal"),x=Object(n["resolveComponent"])("VueLoading");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("a",{class:"btn btn-secondary btn-fixed fs-3 hover-half-transparent text-light border-0",href:"#",title:"新增品項",onClick:t[0]||(t[0]=Object(n["withModifiers"])((function(e){return g.openModal(!0)}),["prevent"]))},a),r.products.length?(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",l,[Object(n["createElementVNode"])("table",i,[d,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.products,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t.id},[Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("img",{class:"img-fluid",src:t.imageUrl,alt:t.title},null,8,u)])]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("a",{class:"link-dark text-decoration-none",href:"#",onClick:Object(n["withModifiers"])((function(e){return g.openModal(!1,t)}),["prevent"]),title:"編輯察看"},Object(n["toDisplayString"])(t.title),9,m)]),Object(n["createElementVNode"])("td",b,Object(n["toDisplayString"])(t.category),1),Object(n["createElementVNode"])("td",null,"$"+Object(n["toDisplayString"])(e.$filters.currency(t.price)),1),Object(n["createElementVNode"])("td",p,"$"+Object(n["toDisplayString"])(e.$filters.currency(t.origin_price)),1),Object(n["createElementVNode"])("td",j,[Object(n["createElementVNode"])("div",O,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-check-input me-0 p-2 shadow-0",id:"productEnabled",type:"checkbox",role:"switch","onUpdate:modelValue":function(e){return t.is_enabled=e},"true-value":"1","false-value":"0",onChange:function(e){return g.updateProduct(t)}},null,40,f),[[n["vModelCheckbox"],t.is_enabled]])])]),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{class:"border-0 hover-gray py-2 px-2 d-block w-100",type:"button",title:"編輯",onClick:function(e){return g.openModal(!1,t)}},V,8,h),Object(n["createElementVNode"])("button",{class:"border-0 hover-red py-2 px-2 d-block w-100",type:"button",title:"刪除",onClick:function(e){return g.checkDelete(t)}},N,8,v)])])})),128))])])])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(E,{pages:r.pagination,onEmitPage:g.getProducts},null,8,["pages","onEmitPage"]),Object(n["createVNode"])(k,{ref:"productModal",product:r.tempProduct,onUpdateProduct:g.updateProduct},null,8,["product","onUpdateProduct"]),Object(n["createVNode"])(w,{ref:"deleteModal",item:r.tempProduct,itemClass:"商品",onEmitDelete:g.delProduct},null,8,["item","onEmitDelete"]),Object(n["createVNode"])(x,{active:r.isLoading},null,8,["active"])],64)}var w=c("5530"),x=c("1da1"),y=(c("96cf"),c("99af"),c("d3b7"),c("e9c4"),c("1799")),P=(c("a4d3"),c("e01a"),function(e){return Object(n["pushScopeId"])("data-v-477c60e2"),e=e(),Object(n["popScopeId"])(),e}),C={class:"modal fade",id:"modal_product",tabindex:"-1",ref:"modal"},U={class:"modal-dialog modal-lg modal-dialog-centered"},B=P((function(){return Object(n["createElementVNode"])("div",{class:"modal-header p-2 mb-3"},[Object(n["createElementVNode"])("h5",{class:"modal-title"},"編輯商品"),Object(n["createElementVNode"])("button",{class:"btn-close",type:"button","data-bs-dismiss":"modal","aria-label":"Close"})],-1)})),M={class:"row"},D={class:"col-sm-7"},I={class:"hstack"},T={class:"mb-4 me-2 w-70"},_=P((function(){return Object(n["createElementVNode"])("label",{class:"form-label mb-1",for:"productTitle"},"品項名稱*：",-1)})),S={class:"mb-4 form-switch w-30 text-center p-0 d-flex flex-column align-items-center"},$=P((function(){return Object(n["createElementVNode"])("label",{class:"form-label",for:"productSwitch"},"上架",-1)})),L={class:"hstack"},R={class:"mb-4 me-2 w-70"},q=P((function(){return Object(n["createElementVNode"])("label",{class:"form-label mb-1",for:"productCategory"},"品項分類*：",-1)})),z={class:"mb-4 w-30"},F=P((function(){return Object(n["createElementVNode"])("label",{class:"form-label mb-1",for:"productUnit"},"單位*：",-1)})),A={class:"hstack"},J={class:"mb-4 w-50 me-2"},X=P((function(){return Object(n["createElementVNode"])("label",{class:"form-label mb-1",for:"productOriginPrice"},"定價*：",-1)})),G={class:"mb-4 w-50"},H=P((function(){return Object(n["createElementVNode"])("label",{class:"form-label mb-1",for:"productPrice"},"售價*：",-1)})),K={class:"form-floating mb-4"},Q=P((function(){return Object(n["createElementVNode"])("label",{for:"productDescription"},"商品描述：",-1)})),W={class:"form-floating mb-4"},Y=P((function(){return Object(n["createElementVNode"])("label",{for:"productContent"},"相關說明：",-1)})),Z={class:"col-sm-5"},ee=P((function(){return Object(n["createElementVNode"])("div",{class:"mb-1"},"商品主圖：",-1)})),te={key:0,class:"text-center p-3"},ce=P((function(){return Object(n["createElementVNode"])("div",{class:"spinner-grow"},[Object(n["createElementVNode"])("div",{class:"visually-hidden"},"載入中……")],-1)})),ne=[ce],oe={key:1,class:"vstack mt-"},re=["src"],ae={class:"mt-4"},le=P((function(){return Object(n["createElementVNode"])("label",{class:"form-label mb-1",for:"uploadImg"},"或上傳檔案：",-1)})),ie={class:"mt-4"},de=P((function(){return Object(n["createElementVNode"])("label",{class:"form-label mb-1",for:"mutitleImg"},"多圖連結：",-1)})),se={class:"input-group"},ue=["onClick"],me=["src"],be=P((function(){return Object(n["createElementVNode"])("div",{class:"modal-footer p-0 pt-2 mt-3"},[Object(n["createElementVNode"])("button",{class:"btn btn-cyan-600 text-white w-30",type:"submit"},[Object(n["createElementVNode"])("i",{class:"bi bi-check-lg me-2"}),Object(n["createTextVNode"])("送出")]),Object(n["createElementVNode"])("button",{class:"btn btn-outline-gray-600 w-20",type:"button","data-bs-dismiss":"modal"},"取消")],-1)}));function pe(e,t,c,o,r,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",C,[Object(n["createElementVNode"])("div",U,[Object(n["createElementVNode"])("form",{class:"modal-content p-3",onSubmit:t[13]||(t[13]=Object(n["withModifiers"])((function(){return a.update&&a.update.apply(a,arguments)}),["prevent"]))},[B,Object(n["createElementVNode"])("div",M,[Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",I,[Object(n["createElementVNode"])("div",T,[_,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-control form-control-sm",id:"productTitle",type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=function(e){return r.tempProduct.title=e})},null,512),[[n["vModelText"],r.tempProduct.title]])]),Object(n["createElementVNode"])("div",S,[$,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-check-input m-0 p-2 shadow-0",id:"productSwitch",type:"checkbox",role:"switch","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.tempProduct.is_enabled=e}),"true-value":1,"false-value":0},null,512),[[n["vModelCheckbox"],r.tempProduct.is_enabled]])])]),Object(n["createElementVNode"])("div",L,[Object(n["createElementVNode"])("div",R,[q,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-control form-control-sm",id:"productCategory",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.tempProduct.category=e}),required:""},null,512),[[n["vModelText"],r.tempProduct.category]])]),Object(n["createElementVNode"])("div",z,[F,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-control form-control-sm",id:"productUnit",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return r.tempProduct.unit=e}),required:""},null,512),[[n["vModelText"],r.tempProduct.unit]])])]),Object(n["createElementVNode"])("div",A,[Object(n["createElementVNode"])("div",J,[X,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-control form-control-sm",id:"productOriginPrice",type:"number","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.tempProduct.origin_price=e}),placeholder:"請輸入定價",step:"1",min:"0",required:""},null,512),[[n["vModelText"],r.tempProduct.origin_price]])]),Object(n["createElementVNode"])("div",G,[H,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-control form-control-sm",id:"productPrice",type:"number","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.tempProduct.price=e}),placeholder:"請輸入售價",step:"1",min:"0",required:""},null,512),[[n["vModelText"],r.tempProduct.price]])])]),Object(n["createElementVNode"])("div",K,[Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{class:"form-control textarea",id:"productDescription","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.tempProduct.description=e})},null,512),[[n["vModelText"],r.tempProduct.description]]),Q]),Object(n["createElementVNode"])("div",W,[Object(n["withDirectives"])(Object(n["createElementVNode"])("textarea",{class:"form-control textarea",id:"productContent","onUpdate:modelValue":t[7]||(t[7]=function(e){return r.tempProduct.content=e})},null,512),[[n["vModelText"],r.tempProduct.content]]),Y])]),Object(n["createElementVNode"])("div",Z,[ee,r.isUploading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",te,ne)):Object(n["createCommentVNode"])("",!0),r.tempProduct.imageUrl?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",oe,[Object(n["createElementVNode"])("button",{class:"btn me-auto hover-red",type:"button",onClick:t[8]||(t[8]=function(e){return r.tempProduct.imageUrl=""}),title:"移除"},"X"),Object(n["createElementVNode"])("img",{class:"img-fluid img-thumbnail",src:r.tempProduct.imageUrl,alt:"圖片連結無效"},null,8,re)])):Object(n["createCommentVNode"])("",!0),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-control form-control-sm my-2",type:"url",placeholder:"圖片網址🔗","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.tempProduct.imageUrl=e})},null,512),[[n["vModelText"],r.tempProduct.imageUrl,void 0,{trim:!0}]]),Object(n["createElementVNode"])("div",ae,[le,(Object(n["openBlock"])(),Object(n["createElementBlock"])("input",{class:"form-control form-control-sm",id:"uploadImg",type:"file",ref:"imgInput",onChange:t[10]||(t[10]=function(){return a.uploadImg&&a.uploadImg.apply(a,arguments)}),key:r.tempProduct.id},null,32))]),Object(n["createElementVNode"])("div",ie,[de,Object(n["createElementVNode"])("div",se,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"form-control form-control-sm",id:"uploadImg",type:"url",placeholder:"圖片網址🔗","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.imageUrl=e})},null,512),[[n["vModelText"],r.imageUrl,void 0,{trim:!0}]]),Object(n["createElementVNode"])("button",{class:"btn btn-sm btn-outline-gray-500",type:"button",onClick:t[12]||(t[12]=function(){return a.addImage&&a.addImage.apply(a,arguments)})},"新增圖片")]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.tempProduct.imagesUrl,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"mt-2 vstack",key:t},[Object(n["createElementVNode"])("button",{class:"btn me-auto hover-red",title:"移除",onClick:function(t){return a.removeImg(e)}},"X",8,ue),Object(n["createElementVNode"])("img",{class:"img-fluid img-thumbnail",src:e,title:"圖片預覽",alt:"圖片連結無效"},null,8,me)])})),128))])])]),be],32)])],512)}c("4de4");var je=c("e0ae"),Oe={data:function(){return{tempProduct:{},imageUrl:"",isUploading:!1}},inject:["tokenValue"],mixins:[je["a"]],props:{product:{type:Object,default:function(){return{}}}},watch:{product:function(){this.tempProduct=Object(w["a"])({},this.product)}},methods:{update:function(){this.$emit("updateProduct",this.tempProduct)},uploadImg:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){var c,n,o,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tempProduct.imageUrl="",e.isUploading=!0,c="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/admin/upload\n      "),n=e.$refs.imgInput.files[0],o=new FormData,o.append("file-to-upload",n),t.prev=6,t.next=9,fetch(c,{method:"post",headers:{Authorization:e.tokenValue},body:o});case 9:return r=t.sent,t.next=12,r.json();case 12:a=t.sent,a.success&&(e.tempProduct.imageUrl=a.imageUrl,e.isUploading=!1),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](6),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,16]])})))()},addImage:function(){this.tempProduct.imagesUrl||(this.tempProduct.imagesUrl=[]),""!==this.imageUrl&&this.tempProduct.imagesUrl.unshift(this.imageUrl),this.imageUrl=""},removeImg:function(e){this.tempProduct.imagesUrl=this.tempProduct.imagesUrl.filter((function(t){return t!==e}))}}},fe=(c("e27d"),c("6b0d")),he=c.n(fe);const ge=he()(Oe,[["render",pe],["__scopeId","data-v-477c60e2"]]);var Ve=ge,ve=c("4b91"),Ee={metaInfo:{title:"產品"},data:function(){return{products:[],tempProduct:{},pagination:{},currentPage:1,isNew:!1,isLoading:!1}},components:{Pagination:y["a"],ProductModal:Ve,DeleteModal:ve["a"]},inject:["tokenValue","pushToast"],methods:{getProducts:function(){var e=arguments,t=this;return Object(x["a"])(regeneratorRuntime.mark((function c(){var n,o,r,a;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,t.isLoading=!0,t.currentPage=n,o="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/admin/products?page=").concat(t.currentPage,"\n      "),c.prev=4,c.next=7,fetch(o,{headers:{Authorization:t.tokenValue}});case 7:return r=c.sent,c.next=10,r.json();case 10:a=c.sent,t.products=a.products,t.pagination=a.pagination,c.next=18;break;case 15:c.prev=15,c.t0=c["catch"](4),console.error(c.t0);case 18:t.isLoading=!1;case 19:case"end":return c.stop()}}),c,null,[[4,15]])})))()},openModal:function(e,t){this.tempProduct=e?{}:Object(w["a"])({},t),this.isNew=e,this.$refs.productModal.showModal()},updateProduct:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function c(){var n,o,r,a,l;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return t.$refs.productModal.hideModal(),t.isNew?(n="\n          ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/admin/product"),o="post",r=1):(n="\n          ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/admin/product/").concat(e.id,"\n        "),o="put",r=t.currentPage),c.prev=2,c.next=5,fetch(n,{method:o,headers:{Authorization:t.tokenValue,"Content-Type":"application/json"},body:JSON.stringify({data:Object(w["a"])({},e)})});case 5:return a=c.sent,c.next=8,a.json();case 8:l=c.sent,t.getProducts(r),t.pushToast(l,"產品"),c.next=16;break;case 13:c.prev=13,c.t0=c["catch"](2),console.error(c.t0);case 16:t.isNew=!1;case 17:case"end":return c.stop()}}),c,null,[[2,13]])})))()},checkDelete:function(e){this.tempProduct=Object(w["a"])({},e),this.$refs.deleteModal.showModal()},delProduct:function(e){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function c(){var n,o,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n="\n        ".concat("https://vue3-course-api.hexschool.io","/api/").concat("ccok-api","/admin/product/").concat(e.id,"\n      "),c.prev=1,c.next=4,fetch(n,{method:"delete",headers:{Authorization:t.tokenValue}});case 4:return o=c.sent,c.next=7,o.json();case 7:r=c.sent,t.pushToast(r,"產品"),t.getProducts(t.currentPage),c.next=15;break;case 12:c.prev=12,c.t0=c["catch"](1),console.error(c.t0);case 15:t.$refs.deleteModal.hideModal();case 16:case"end":return c.stop()}}),c,null,[[1,12]])})))()}},created:function(){this.getProducts()}};c("079c");const Ne=he()(Ee,[["render",k],["__scopeId","data-v-acf48f58"]]);t["default"]=Ne},e27d:function(e,t,c){"use strict";c("0196")},eaaf:function(e,t,c){e.exports=c.p+"img/black_hole.cdb62289.svg"}}]);
//# sourceMappingURL=chunk-5f02119c.0d98557a.js.map