<template lang="pug">
.modal.fade(tabindex='-1' ref="modal")
  .modal-dialog.modal-dialog-centered
    .modal-content

      .modal-body.text-center.py-4

        p.mb-4 ç²å¾—9æŠ˜å„ªæƒ ï¼Œå¤ªæ£’äº†ï¼ğŸŒŸ
        p.mb-4 å„ªæƒ ç¢¼ï¼š
          span.text-gray-500(
            v-if="isCopied")
            | {{ coupon }}
            | (å·²è¤‡è£½)
          a.text-decoration-none.text-success(
            href="#"
            title="è¤‡è£½å„ªæƒ ç¢¼"
            v-else
            @click.prevent="copyCoupon")
            | {{ coupon }}
            |  (è¤‡è£½)
        p.mb-4 é¦¬ä¸Šåˆ°è³¼ç‰©è»Šä½¿ç”¨å§ï¼

        button.btn.btn-cyan-600.text-light.w-70(
          type='button'
          data-bs-dismiss='modal'
          @click="isCopied = false")
          | ç¢ºèª
</template>

<script>
import modalMixin from '@/mixins/modalMixin';

export default {
  data() {
    return {
      coupon: 'spacecollections',
      isCopied: false,
    };
  },
  mixins: [modalMixin],
  methods: {
    copyCoupon() {
      navigator.clipboard.writeText(this.coupon)
        .then(this.isCopied = true);
    },
  },
};
</script>
