<template lang="pug">
.modal.fade(tabindex='-1' ref="modal")
  .modal-dialog.modal-dialog-centered
    .modal-content

      .modal-header.d-flex
        h3.m-0.mx-auto æ„Ÿè¬æ‚¨çš„è¨‚é–±ï¼

      .modal-body.text-center

        p.mb-4 æ­å–œç²å¾—äº†è¨‚é–±å°ˆå±¬å„ªæƒ 85æŠ˜ğŸŒ 
        p.mb-4 å„ªæƒ ç¢¼ï¼š
          span.text-gray-500(
            v-if="isCopied")
            | {{ coupon }}
            | (å·²è¤‡è£½)
          a.text-decoration-none.text-success(
            href="#"
            title="è¤‡è£½å„ªæƒ ç¢¼"
            v-else
            @click.prevent="copyCoupon")
            | {{ coupon }}
            |  (è¤‡è£½)
        p.mb-1 é¦¬ä¸Šåˆ°è³¼ç‰©è»Šä½¿ç”¨å§ï¼

      .p-3.text-center
        small.text-muted
          | (æœ¬åŠŸèƒ½åƒ…ç‚ºå±•ç¤ºç”¨ï¼Œä¸æœƒè¨˜éŒ„æ‚¨çš„ä»»ä½•è³‡æ–™)
        button.btn.btn-cyan-600.text-light.w-70(
          type='button'
          data-bs-dismiss='modal'
          @click="isCopied = false")
          | ç¢ºèª
</template>

<script>
import modalMixin from '@/mixins/modalMixin';

export default {
  data() {
    return {
      coupon: 'spacecoffee2222',
      isCopied: false,
    };
  },
  mixins: [modalMixin],
  methods: {
    copyCoupon() {
      navigator.clipboard.writeText(this.coupon)
        .then(this.isCopied = true);
    },
  },
};
</script>
